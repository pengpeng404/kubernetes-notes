### 数组和切片


- 值类型
  - 基础数据、结构体
- 引用类型
  - 切片、字典、通道、函数


一个切片的容量可以被看作是透过这个窗口最多可以看到的底层数组中元素的个数，
在底层数组不变的情况下，
切片代表的窗口可以向右扩展，
直到其底层数组的末尾


问题1：如何估算切片容量的增长？

Go语言扩容，
会生成一个容量更大的切片，
一般会是原切片的2倍，
但是如果原长度大于等于1024，
会以原容量的1.25倍作为新容量的基准，
新容量基准会被调整，
不断与1.25相乘，
直到不小于目标长度

问题2：切片的底层数组什么时候会被替换？


严格来说，
一个切片的底层数组永远不会被替换，
虽然在扩容的时候一定会生成新的底层数组，
但是也同时生成了新的切片，
会把新的切片作为新的底层数组的窗口，
并没有对原切片和其底层数组做任何改动，

所以，无需扩容时，append 返回的是指向原底层数组的新切片，
需要扩容时，append 返回的是指向新的底层数组的新切片

```go
func main() {
	arr := make([]int, 2)
	arr2 := arr
	arr2[0] = 1
	arr2[1] = 2
	arr = append(arr, 66)
	fmt.Println(arr2)
	fmt.Println(arr)
}
```







