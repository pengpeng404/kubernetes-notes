# 什么是云计算

- `500` 台机器网络打通形成集群
- 有控制平面抽象 `500` 台计算资源
- 资源分配




## Google Borg

https://research.google/pubs/large-scale-cluster-management-at-google-with-borg/

**集群管理** **作业调度** **服务发现**


### 特性

- 物理资源利用率高（不用虚拟化操作系统）
- 服务器共享 进程级别做隔离
- 应用高可用 故障恢复时间短
- 调度策略灵活
- 应用接入和使用方便 提供服务发现 状态监控 诊断工具


### 优势

- 对外隐藏底层资源管理 故障处理（云计算优势）
- 实现应用的高可用和高可靠
- 足够弹性 支持应用跑在成千上万的机器上

#### 混部

`prod` 和 `non-prod` 部署在一台机器上
- 空闲时，离线任务可以充分利用计算资源
- 繁忙时，在线任务通过抢占的方式保证优先得到执行

很多理论是相通的，一个系统的出现并不是偶然的，
一定是以前的经验、知识积累，
把这些思想带到新的系统上来，
再使用新的技术手段实现。


### Borg 高可用

- `Borg` 系统本身高可用
- 被抢占的 `non-production` 任务放回 `pending queue` 等待重新调度
- 多副本跨故障域部署
- 幂等性 对客户端的请求去重


#### 资源利用率

根据每天的线上访问量，细分到每一个波峰，
根据波峰的 `QPS` 对应用压力测试，
查看占用的 `CPU` `MEM` 资源，
以此作为参考设置资源

对于内存资源要格外关照，因为内存资源是不可压缩资源，
一旦超过限制，`OOM`

















